"use strict";(globalThis["webpackChunkquasar_project"]=globalThis["webpackChunkquasar_project"]||[]).push([[238],{7238:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Z});var s=a(9835);const o=(0,s._)("br",null,null,-1),r=(0,s._)("br",null,null,-1),l={class:"flex flex-center"};function n(e,t,a,n,u,d){const i=(0,s.up)("q-icon"),c=(0,s.up)("q-breadcrumbs-el"),p=(0,s.up)("q-breadcrumbs"),m=(0,s.up)("q-input"),h=(0,s.up)("q-btn"),x=(0,s.up)("q-form"),b=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(b,{class:"flex flex-center div-row"},{default:(0,s.w5)((()=>[o,(0,s.Wm)(p,null,{separator:(0,s.w5)((()=>[(0,s.Wm)(i,{size:"1.5em",name:"chevron_right",color:"primary"})])),default:(0,s.w5)((()=>[(0,s.Wm)(c,{label:"Home",icon:"home"}),(0,s.Wm)(c,{label:this.expenseId?"Atualizar Despesa":"Criar Despesa",icon:"add"},null,8,["label"])])),_:1}),r,(0,s.Wm)(x,{onSubmit:e.onSubmit,class:"q-gutter-md"},{default:(0,s.w5)((()=>[(0,s.Wm)(m,{outlined:"",modelValue:e.description,"onUpdate:modelValue":t[0]||(t[0]=t=>e.description=t),"stack-label":"",label:"Descrição","lazy-rules":"",type:"textarea"},null,8,["modelValue"]),(0,s.Wm)(m,{modelValue:e.expense_date,"onUpdate:modelValue":t[1]||(t[1]=t=>e.expense_date=t),"stack-label":"",outlined:"",type:"date"},null,8,["modelValue"]),(0,s.Wm)(m,{outlined:"",modelValue:e.amount,"onUpdate:modelValue":t[2]||(t[2]=t=>e.amount=t),"stack-label":"",label:"Valor",step:"any","lazy-rules":"",type:"number"},null,8,["modelValue"]),(0,s._)("div",l,[(0,s.Wm)(h,{label:"Salvar",type:"submit",class:"q-mt-md",color:"teal"})])])),_:1},8,["onSubmit"])])),_:1})}a(9665);var u=a(9302),d=a(7524),i=a(8339);const c=(0,s.aZ)({name:"CreateExpense",setup(){const e=(0,u.Z)(),t=(0,i.tv)();return{quasar:e,router:t}},data(){return{expenseId:null,expense_date:null,description:null,amount:0}},methods:{onSubmit(){var e=this;const t={description:this.description,expense_date:this.expense_date,amount:parseFloat(this.amount)};this.expenseId?d.Z.put("http://localhost/api/expenses/"+this.expenseId,t).then((t=>{t.data.success&&(e.quasar.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:t.data.message}),e.router.push("/list"))})).catch((t=>{e.quasar.notify({color:"red-5",textColor:"white",icon:"error",message:t.response.data.error})})):d.Z.post("http://localhost/api/expenses",t).then((t=>{t.data.success&&(e.quasar.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Despesa criada com sucesso"}),e.router.push("/list"))})).catch((t=>{e.quasar.notify({color:"red-5",textColor:"white",icon:"error",message:t.response.data.error})}))},getExpense(e){var t=this;d.Z.get("http://localhost/api/expenses/"+e).then((e=>{e.data.success&&(this.description=e.data.data.description,this.expense_date=e.data.data.expense_date,this.amount=e.data.data.amount)})).catch((e=>{t.quasar.notify({color:"red-5",textColor:"white",icon:"error",message:e.response.data.error}),t.router.push("/list")}))}},async created(){this.expenseId=this.$route.params.id,this.expenseId&&this.getExpense(this.expenseId)},async mounted(){}});var p=a(1639),m=a(9885),h=a(2605),x=a(2857),b=a(8052),g=a(8326),_=a(6611),q=a(4455),f=a(9984),y=a.n(f);const w=(0,p.Z)(c,[["render",n]]),Z=w;y()(c,"components",{QPage:m.Z,QBreadcrumbs:h.Z,QIcon:x.Z,QBreadcrumbsEl:b.Z,QForm:g.Z,QInput:_.Z,QBtn:q.Z})}}]);